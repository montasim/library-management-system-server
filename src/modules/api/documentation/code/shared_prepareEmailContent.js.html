<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: shared/prepareEmailContent.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: shared/prepareEmailContent.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview This module provides the `prepareEmailContent` function, designed to generate the various sections of an HTML email template based on a given subject.
 * It supports multiple email types, each with customized content including titles, preheaders, hero images, main body text, and footer information.
 * This function is essential for creating dynamic email content that responds to different user interactions or system events within an application,
 * such as account creation, password resets, and system alerts. It utilizes placeholders and template literals to dynamically insert data into predefined HTML structures.
 */

/**
 * Generates email content based on the specified subject. This function selects the appropriate content template based on the subject parameter and populates it with data from the emailData object.
 * Each email type has a specific layout and messaging designed to fit the context of the email, whether it's a welcome message, password reset, or system alert.
 *
 * @param {string} subject - The subject of the email, which determines the type of email content to generate.
 * @param {Object} emailData - An object containing data to be included in the email. This may include URLs, user names, passwords, error details, etc.
 * @returns {Object|null} An object containing the structured content for the email (pageTitle, preheaderText, heroSection, mainSection, footerContent) or null if the subject is not recognized.
 */
const prepareEmailContent = (subject, emailData) => {
    let pageTitle, preheaderText, heroSection, mainSection, footerContent;

    switch (subject) {
        case 'Confirm Your Email Address':
            pageTitle = 'Email Confirmation';
            preheaderText =
                'Activate your account by confirming your email address.';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 36px 24px 0; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; border-top: 3px solid #d4dadf;">
                          &lt;h1 style="margin: 0; font-size: 32px; font-weight: 700; letter-spacing: -1px; line-height: 48px;">Confirm Your Email Address&lt;/h1>
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;!-- start copy block -->
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;p style="margin: 0;">Click the button below to confirm your email address. If you did not request an account with us, please ignore this message.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start button -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff">
                          &lt;table border="0" cellpadding="0" cellspacing="0" width="100%">
                            &lt;tr>
                              &lt;td align="center" bgcolor="#ffffff" style="padding: 12px;">
                                &lt;table border="0" cellpadding="0" cellspacing="0">
                                  &lt;tr>
                                    &lt;td align="center" bgcolor="#1a82e2" style="border-radius: 6px;">
                                      &lt;a href="${emailData.emailVerificationLink}" target="_blank" style="display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px;">Confirm your email&lt;/a>
                                    &lt;/td>
                                  &lt;/tr>
                                &lt;/table>
                              &lt;/td>
                            &lt;/tr>

                            &lt;tr>
                              &lt;td align="center" bgcolor="#ffffff" style="padding: 12px;">
                                &lt;table border="0" cellpadding="0" cellspacing="0">
                                  &lt;tr>
                                    &lt;td align="center" bgcolor="#1a82e2" style="border-radius: 6px;">
                                      &lt;a href="${emailData.resendEmailVerificationLink}" target="_blank" style="display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px;">Resend verification&lt;/a>
                                    &lt;/td>
                                  &lt;/tr>
                                &lt;/table>
                              &lt;/td>
                            &lt;/tr>
                          &lt;/table>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end button -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;p style="margin: 0;">If that doesn't work, copy and paste the following link in your browser:&lt;/p>
                          &lt;p style="margin: 0;">&lt;a href="${emailData.emailVerificationLink}" target="_blank">${emailData.emailVerificationLink}&lt;/a>&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">Cheers,&lt;br> Library Management System&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
                &lt;!-- end copy block -->
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                        &lt;p style="margin: 0;">You received this email because we received a request for your account. If you didn't request your account you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'Welcome Admin':
            pageTitle = 'Welcome to Our Service!';
            preheaderText = 'You are now an admin!';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left">
                          &lt;img src="https://drive.google.com/file/d/1vZhJhh8meVW4IvijH5jUm8_23ptX6R_n/view?usp=sharing" alt="Welcome" width="600" style="display: block; width: 100%; max-width: 100%;">
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;h1 style="margin: 0 0 12px; font-size: 32px; font-weight: 400; line-height: 48px;">Welcome, ${emailData?.userName}!&lt;/h1>
                          &lt;p style="margin: 0;">We are thrilled to have you with us. Get ready to explore all our features.&lt;/p>
                          &lt;p style="margin: 0;">Your temporary password is &lt;strong>${emailData.tempPassword}&lt;/strong>.&lt;/p>
                          &lt;p style="margin: 0;">Pleae use the below link to reset your password &lt;a href="${emailData.emailVerificationLink}">Reset password&lt;/a>.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">Cheers,&lt;br> Library Management System&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">You received this email because we received a request for your account. If you didn't request your account you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'Welcome Email':
            pageTitle = 'Welcome to Our Service!';
            preheaderText = 'You are now a member!';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left">
                          &lt;img src="https://drive.google.com/file/d/1vZhJhh8meVW4IvijH5jUm8_23ptX6R_n/view?usp=sharing" alt="Welcome" width="600" style="display: block; width: 100%; max-width: 100%;">
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;h1 style="margin: 0 0 12px; font-size: 32px; font-weight: 400; line-height: 48px;">Welcome, ${emailData?.userName}!&lt;/h1>
                          &lt;p style="margin: 0;">We are thrilled to have you with us. Get ready to explore all our features.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">Cheers,&lt;br> Library Management System&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">You received this email because we received a request for your account. If you didn't request your account you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'Login Successfully':
            pageTitle = 'Security Alert: New Login Detected';
            preheaderText =
                'A new login to your account was detected. If this was not you, please secure your account immediately.';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left">
                          &lt;img src="https://drive.google.com/file/d/1vZhJhh8meVW4IvijH5jUm8_23ptX6R_n/view?usp=sharing" alt="Welcome" width="600" style="display: block; width: 100%; max-width: 100%;">
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;h1 style="margin: 0 0 12px; font-size: 32px; font-weight: 400; line-height: 48px;">Welcome, ${emailData?.userName}!&lt;/h1>
                          &lt;p style="margin: 0;">We noticed a new login to your account from a ${emailData?.deviceType} device. This login occurred at ${emailData?.loginTime}, from the IP address ${emailData?.ipAddress}.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">Cheers,&lt;br> Library Management System&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">If you did not initiate this login, please &lt;a href="${emailData?.resetPasswordLink}" style="color: #007bff; text-decoration: underline;">change your password immediately&lt;/a> and review your account security.&lt;/p>
                    &lt;/td>
                &lt;/tr>

                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">You received this email because we received a request for your account. If you didn't request your account you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'Reset Your Password':
            pageTitle = 'Password Reset';
            preheaderText =
                'Tap the button below to reset your customer account password.';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 36px 24px 0; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; border-top: 3px solid #d4dadf;">
                          &lt;h1 style="margin: 0; font-size: 32px; font-weight: 700; letter-spacing: -1px; line-height: 48px;">Reset Your Password&lt;/h1>
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;!-- start copy block -->
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;p style="margin: 0;">Tap the button below to reset your customer account password. If you didn't request a new password, you can safely delete this email.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start button -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff">
                          &lt;table border="0" cellpadding="0" cellspacing="0" width="100%">
                            &lt;tr>
                              &lt;td align="center" bgcolor="#ffffff" style="padding: 12px;">
                                &lt;table border="0" cellpadding="0" cellspacing="0">
                                  &lt;tr>
                                    &lt;td align="center" bgcolor="#1a82e2" style="border-radius: 6px;">
                                      &lt;a href="${emailData.resetPasswordVerificationLink}" target="_blank" style="display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px;">Reset password&lt;/a>
                                    &lt;/td>
                                  &lt;/tr>
                                &lt;/table>
                              &lt;/td>
                            &lt;/tr>
                          &lt;/table>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end button -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;p style="margin: 0;">If that doesn't work, copy and paste the following link in your browser:&lt;/p>
                          &lt;p style="margin: 0;">&lt;a href="${emailData.resetPasswordVerificationLink}" target="_blank">${emailData.resetPasswordVerificationLink}&lt;/a>&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">You received this email because we received a password reset request for your account. If you didn't request this you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'Reset Password Successful':
            pageTitle = 'Your Password Has Been Reset Successfully';
            preheaderText = 'Your account security is our top priority!';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left">
                          &lt;img src="https://drive.google.com/file/d/1vZhJhh8meVW4IvijH5jUm8_23ptX6R_n/view?usp=sharing" alt="Welcome" width="600" style="display: block; width: 100%; max-width: 100%;">
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
                    &lt;tr>
                    &lt;td align="center" valign="top" width="600">
                    &lt;![endif]-->
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td bgcolor="#ffffff" align="left" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;h1 style="margin: 0 0 12px; font-size: 32px; font-weight: 400; line-height: 48px;">Hi, ${emailData?.userName}!&lt;/h1>
                          &lt;p style="margin: 0;">Your password has been reset successfully. You can now log in to your account using your new password. We recommend keeping your password secure and updating it regularly.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                      &lt;!-- start copy -->
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">Cheers,&lt;br> Library Management System&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;!-- end copy -->

                    &lt;/table>
                    &lt;!--[if (gte mso 9)|(IE)]>
                    &lt;/td>
                    &lt;/tr>
                    &lt;/table>
                    &lt;![endif]-->
                  &lt;/td>
                &lt;/tr>
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">If you did not request this change or if you need assistance, please contact our support team immediately.&lt;/p>
                    &lt;/td>
                &lt;/tr>

                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                    &lt;p style="margin: 0;">You received this email as a security measure. Please do not reply directly to this email.&lt;/p>
                  &lt;/td>
                &lt;/tr>
            `;

            break;
        case 'System Error - Critical Issue Detected':
            pageTitle = 'Critical System Alert for Administrators';
            preheaderText =
                'Urgent: Critical issue detected in the system that requires your immediate attention.';
            heroSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 36px 24px 0; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; border-top: 3px solid #d4dadf;">
                          &lt;h1 style="margin: 0; font-size: 32px; font-weight: 700; letter-spacing: -1px; line-height: 48px;">Attention Required: Critical System Alert&lt;/h1>
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                  &lt;/td>
                &lt;/tr>
            `;
            mainSection = `
                &lt;tr>
                  &lt;td align="center" bgcolor="#e9ecef">
                    &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px;">
                          &lt;p style="margin: 0;">A critical issue has been detected within our system infrastructure that requires your immediate investigation. Details of the error are as follows:&lt;/p>
                          &lt;ul>
                            &lt;li>Reason: ${emailData.reason}&lt;/li>
                            &lt;li>Error Code: ${emailData.errorCode}&lt;/li>
                            &lt;li>Component: ${emailData.component}&lt;/li>
                            &lt;li>Path: ${emailData.path}&lt;/li>
                            &lt;li>Address: ${emailData.address}&lt;/li>
                            &lt;li>Port: ${emailData.port}&lt;/li>
                            &lt;li>Time Detected: ${emailData.timeDetected}&lt;/li>
                          &lt;/ul>
                          &lt;p>Please assess the situation and initiate the necessary protocols to mitigate the issue.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff">
                          &lt;table border="0" cellpadding="0" cellspacing="0" width="100%">
                            &lt;tr>
                              &lt;td align="center" bgcolor="#ffffff" style="padding: 12px;">
                                &lt;table border="0" cellpadding="0" cellspacing="0">
                                  &lt;tr>
                                    &lt;td align="center" bgcolor="#1a82e2" style="border-radius: 6px;">
                                      &lt;a href="${emailData.dashboardLink}" target="_blank" style="display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px;">Go to Dashboard&lt;/a>
                                    &lt;/td>
                                  &lt;/tr>
                                &lt;/table>
                              &lt;/td>
                            &lt;/tr>
                          &lt;/table>
                        &lt;/td>
                      &lt;/tr>
                      &lt;tr>
                        &lt;td align="left" bgcolor="#ffffff" style="padding: 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; line-height: 24px; border-bottom: 3px solid #d4dadf">
                          &lt;p style="margin: 0;">For additional support or to report further issues, please contact our technical support team.&lt;/p>
                        &lt;/td>
                      &lt;/tr>
                    &lt;/table>
                  &lt;/td>
                &lt;/tr>
            `;
            footerContent = `
                &lt;tr>
                    &lt;td align="center" bgcolor="#e9ecef" style="padding: 12px 24px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; color: #666;">
                      &lt;p style="margin: 0;">You received this email because we received a password reset request for your account. If you didn't request this you can safely delete this email.&lt;/p>
                    &lt;/td>
                &lt;/tr>
            `;

            break;
        default:
            return null; // Return null if subject does not match known types
    }

    return {
        pageTitle,
        preheaderText,
        heroSection,
        mainSection,
        footerContent,
    };
};

export default prepareEmailContent;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-accessTypesConstants.html">accessTypesConstants</a></li><li><a href="module-asyncErrorHandlerService.html">asyncErrorHandlerService</a></li><li><a href="module-constants.html">constants</a></li><li><a href="module-corsConfiguration.html">corsConfiguration</a></li><li><a href="module-defaultConstants.html">defaultConstants</a></li><li><a href="module-environment.html">environment</a></li><li><a href="module-errorHandlingService.html">errorHandlingService</a></li><li><a href="module-helmetConfiguration.html">helmetConfiguration</a></li><li><a href="module-routesConstants.html">routesConstants</a></li><li><a href="module-uploadMiddleware.html">uploadMiddleware</a></li><li><a href="module-userProfileService.html">userProfileService</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ACCEPTED">ACCEPTED</a></li><li><a href="global.html#ALREADY_REPORTED">ALREADY_REPORTED</a></li><li><a href="global.html#BAD_GATEWAY">BAD_GATEWAY</a></li><li><a href="global.html#BAD_REQUEST">BAD_REQUEST</a></li><li><a href="global.html#BMP">BMP</a></li><li><a href="global.html#CONFLICT">CONFLICT</a></li><li><a href="global.html#CONTINUE">CONTINUE</a></li><li><a href="global.html#CREATED">CREATED</a></li><li><a href="global.html#CSS">CSS</a></li><li><a href="global.html#CSV">CSV</a></li><li><a href="global.html#DIGITS">DIGITS</a></li><li><a href="global.html#EACCES">EACCES</a></li><li><a href="global.html#EADDRINUSE">EADDRINUSE</a></li><li><a href="global.html#EAGAIN">EAGAIN</a></li><li><a href="global.html#EARLY_HINTS">EARLY_HINTS</a></li><li><a href="global.html#ECONNREFUSED">ECONNREFUSED</a></li><li><a href="global.html#ECONNRESET">ECONNRESET</a></li><li><a href="global.html#EEXIST">EEXIST</a></li><li><a href="global.html#EISDIR">EISDIR</a></li><li><a href="global.html#EMAIL">EMAIL</a></li><li><a href="global.html#EMFILE">EMFILE</a></li><li><a href="global.html#ENOENT">ENOENT</a></li><li><a href="global.html#ENOTDIR">ENOTDIR</a></li><li><a href="global.html#ENOTFOUND">ENOTFOUND</a></li><li><a href="global.html#EPERM">EPERM</a></li><li><a href="global.html#EPIPE">EPIPE</a></li><li><a href="global.html#EPROTO">EPROTO</a></li><li><a href="global.html#ETIMEDOUT">ETIMEDOUT</a></li><li><a href="global.html#EWOULDBLOCK">EWOULDBLOCK</a></li><li><a href="global.html#EXPECTATION_FAILED">EXPECTATION_FAILED</a></li><li><a href="global.html#FACEBOOK_URL">FACEBOOK_URL</a></li><li><a href="global.html#FAILED_DEPENDENCY">FAILED_DEPENDENCY</a></li><li><a href="global.html#FORBIDDEN">FORBIDDEN</a></li><li><a href="global.html#FOUND">FOUND</a></li><li><a href="global.html#GATEWAY_TIMEOUT">GATEWAY_TIMEOUT</a></li><li><a href="global.html#GIF">GIF</a></li><li><a href="global.html#GITHUB_URL">GITHUB_URL</a></li><li><a href="global.html#GONE">GONE</a></li><li><a href="global.html#HTML">HTML</a></li><li><a href="global.html#HTTP_VERSION_NOT_SUPPORTED">HTTP_VERSION_NOT_SUPPORTED</a></li><li><a href="global.html#ICO">ICO</a></li><li><a href="global.html#IM_A_TEAPOT">IM_A_TEAPOT</a></li><li><a href="global.html#IM_USED">IM_USED</a></li><li><a href="global.html#INSUFFICIENT_STORAGE">INSUFFICIENT_STORAGE</a></li><li><a href="global.html#INTERNAL_SERVER_ERROR">INTERNAL_SERVER_ERROR</a></li><li><a href="global.html#ISO_8601_DATE">ISO_8601_DATE</a></li><li><a href="global.html#JPG">JPG</a></li><li><a href="global.html#JS">JS</a></li><li><a href="global.html#JSON">JSON</a></li><li><a href="global.html#LENGTH_REQUIRED">LENGTH_REQUIRED</a></li><li><a href="global.html#LINKEDIN_URL">LINKEDIN_URL</a></li><li><a href="global.html#LOCKED">LOCKED</a></li><li><a href="global.html#LOOP_DETECTED">LOOP_DETECTED</a></li><li><a href="global.html#LOWERCASE">LOWERCASE</a></li><li><a href="global.html#MD">MD</a></li><li><a href="global.html#METHOD_NOT_ALLOWED">METHOD_NOT_ALLOWED</a></li><li><a href="global.html#MISDIRECTED_REQUEST">MISDIRECTED_REQUEST</a></li><li><a href="global.html#MOBILE">MOBILE</a></li><li><a href="global.html#MOVED_PERMANENTLY">MOVED_PERMANENTLY</a></li><li><a href="global.html#MP3">MP3</a></li><li><a href="global.html#MP4">MP4</a></li><li><a href="global.html#MULTIPLE_CHOICES">MULTIPLE_CHOICES</a></li><li><a href="global.html#MULTI_STATUS">MULTI_STATUS</a></li><li><a href="global.html#NETWORK_AUTHENTICATION_REQUIRED">NETWORK_AUTHENTICATION_REQUIRED</a></li><li><a href="global.html#NON_AUTHORITATIVE_INFORMATION">NON_AUTHORITATIVE_INFORMATION</a></li><li><a href="global.html#NOT_ACCEPTABLE">NOT_ACCEPTABLE</a></li><li><a href="global.html#NOT_EXTENDED">NOT_EXTENDED</a></li><li><a href="global.html#NOT_FOUND">NOT_FOUND</a></li><li><a href="global.html#NOT_IMPLEMENTED">NOT_IMPLEMENTED</a></li><li><a href="global.html#NOT_MODIFIED">NOT_MODIFIED</a></li><li><a href="global.html#NO_CONTENT">NO_CONTENT</a></li><li><a href="global.html#OK">OK</a></li><li><a href="global.html#PARTIAL_CONTENT">PARTIAL_CONTENT</a></li><li><a href="global.html#PASSWORD">PASSWORD</a></li><li><a href="global.html#PAYLOAD_TOO_LARGE">PAYLOAD_TOO_LARGE</a></li><li><a href="global.html#PAYMENT_REQUIRED">PAYMENT_REQUIRED</a></li><li><a href="global.html#PDF">PDF</a></li><li><a href="global.html#PERMANENT_REDIRECT">PERMANENT_REDIRECT</a></li><li><a href="global.html#PNG">PNG</a></li><li><a href="global.html#PRECONDITION_FAILED">PRECONDITION_FAILED</a></li><li><a href="global.html#PRECONDITION_REQUIRED">PRECONDITION_REQUIRED</a></li><li><a href="global.html#PROCESSING">PROCESSING</a></li><li><a href="global.html#PROFILE_VISIBILITY">PROFILE_VISIBILITY</a></li><li><a href="global.html#PROXY_AUTHENTICATION_REQUIRED">PROXY_AUTHENTICATION_REQUIRED</a></li><li><a href="global.html#RANGE_NOT_SATISFIABLE">RANGE_NOT_SATISFIABLE</a></li><li><a href="global.html#RAR">RAR</a></li><li><a href="global.html#REMARKS_MAX">REMARKS_MAX</a></li><li><a href="global.html#REMARKS_MIN">REMARKS_MIN</a></li><li><a href="global.html#REQUEST_HEADER_FIELDS_TOO_LARGE">REQUEST_HEADER_FIELDS_TOO_LARGE</a></li><li><a href="global.html#REQUEST_TIMEOUT">REQUEST_TIMEOUT</a></li><li><a href="global.html#RESET_CONTENT">RESET_CONTENT</a></li><li><a href="global.html#SEE_OTHER">SEE_OTHER</a></li><li><a href="global.html#SERVICE_UNAVAILABLE">SERVICE_UNAVAILABLE</a></li><li><a href="global.html#SPECIAL_CHARACTERS">SPECIAL_CHARACTERS</a></li><li><a href="global.html#SVG">SVG</a></li><li><a href="global.html#SWITCHING_PROTOCOLS">SWITCHING_PROTOCOLS</a></li><li><a href="global.html#TEMPORARY_REDIRECT">TEMPORARY_REDIRECT</a></li><li><a href="global.html#TIFF">TIFF</a></li><li><a href="global.html#TOO_EARLY">TOO_EARLY</a></li><li><a href="global.html#TOO_MANY_REQUESTS">TOO_MANY_REQUESTS</a></li><li><a href="global.html#TWITTER_URL">TWITTER_URL</a></li><li><a href="global.html#TXT">TXT</a></li><li><a href="global.html#UNAUTHORIZED">UNAUTHORIZED</a></li><li><a href="global.html#UNAVAILABLE_FOR_LEGAL_REASONS">UNAVAILABLE_FOR_LEGAL_REASONS</a></li><li><a href="global.html#UNPROCESSABLE_ENTITY">UNPROCESSABLE_ENTITY</a></li><li><a href="global.html#UNSUPPORTED_MEDIA_TYPE">UNSUPPORTED_MEDIA_TYPE</a></li><li><a href="global.html#UPGRADE_REQUIRED">UPGRADE_REQUIRED</a></li><li><a href="global.html#UPPERCASE">UPPERCASE</a></li><li><a href="global.html#URI_TOO_LONG">URI_TOO_LONG</a></li><li><a href="global.html#URL">URL</a></li><li><a href="global.html#USE_PROXY">USE_PROXY</a></li><li><a href="global.html#VARIANT_ALSO_NEGOTIATES">VARIANT_ALSO_NEGOTIATES</a></li><li><a href="global.html#WAV">WAV</a></li><li><a href="global.html#XML">XML</a></li><li><a href="global.html#ZIP">ZIP</a></li><li><a href="global.html#actionTypes">actionTypes</a></li><li><a href="global.html#activitiesSchema">activitiesSchema</a></li><li><a href="global.html#activityType">activityType</a></li><li><a href="global.html#addressSchema">addressSchema</a></li><li><a href="global.html#adminActivityLoggerSchema">adminActivityLoggerSchema</a></li><li><a href="global.html#adminLogin">adminLogin</a></li><li><a href="global.html#adminLogout">adminLogout</a></li><li><a href="global.html#adminSchema">adminSchema</a></li><li><a href="global.html#appearanceSchema">appearanceSchema</a></li><li><a href="global.html#asyncErrorHandlerService">asyncErrorHandlerService</a></li><li><a href="global.html#authenticateMiddleware">authenticateMiddleware</a></li><li><a href="global.html#bioSchema">bioSchema</a></li><li><a href="global.html#bookIdParamSchema">bookIdParamSchema</a></li><li><a href="global.html#bookIdsParamSchema">bookIdsParamSchema</a></li><li><a href="global.html#bookSchemaBase">bookSchemaBase</a></li><li><a href="global.html#booksQueryParamSchema">booksQueryParamSchema</a></li><li><a href="global.html#booleanField">booleanField</a></li><li><a href="global.html#companySchema">companySchema</a></li><li><a href="global.html#compressionConfiguration">compressionConfiguration</a></li><li><a href="global.html#configuration">configuration</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#createGenericcreationcontrollerthatcanhandlerequestswithorwithoutfileuploadsaspartofthedatapayload.">createGeneric creation controller that can handle requests with or without file uploads as part of the data payload.</a></li><li><a href="global.html#createAuthenticationToken">createAuthenticationToken</a></li><li><a href="global.html#createBookSchema">createBookSchema</a></li><li><a href="global.html#createDefaultPermissionList">createDefaultPermissionList</a></li><li><a href="global.html#createDefaultRole">createDefaultRole</a></li><li><a href="global.html#createFavouriteBook">createFavouriteBook</a></li><li><a href="global.html#createFileNameSchema">createFileNameSchema</a></li><li><a href="global.html#createHashedPassword">createHashedPassword</a></li><li><a href="global.html#createLendBook">createLendBook</a></li><li><a href="global.html#createLendBooksSchema">createLendBooksSchema</a></li><li><a href="global.html#createNewAdmin">createNewAdmin</a></li><li><a href="global.html#createNewBook">createNewBook</a></li><li><a href="global.html#createNewUserCreatesanewuserbyinvokingtheprovidedservicefunctionwithnecessaryparametersextractedfromtherequest.Utilizeshostdataandrequesteridentificationforloggingandservicecustomization.">createNewUserCreates a new user by invoking the provided service function with necessary parameters extracted from the request.Utilizes host data and requester identification for logging and service customization.</a></li><li><a href="global.html#createPermission">createPermission</a></li><li><a href="global.html#createPermissionSchema">createPermissionSchema</a></li><li><a href="global.html#createPronouns">createPronouns</a></li><li><a href="global.html#createPronounsSchema">createPronounsSchema</a></li><li><a href="global.html#createPublication">createPublication</a></li><li><a href="global.html#createPublicationSchema">createPublicationSchema</a></li><li><a href="global.html#createRequestBook">createRequestBook</a></li><li><a href="global.html#createRequestBookSchema">createRequestBookSchema</a></li><li><a href="global.html#createRole">createRole</a></li><li><a href="global.html#createRoleSchema">createRoleSchema</a></li><li><a href="global.html#createStringField">createStringField</a></li><li><a href="global.html#createSubject">createSubject</a></li><li><a href="global.html#createSubjectSchema">createSubjectSchema</a></li><li><a href="global.html#createWithIdCreatesaresourceassociatedwithaspecificIDprovidedintherequestparameters.Thiscontrollerisusedwhenthecreationofaresourceisdependentonanexistingentity.">createWithIdCreates a resource associated with a specific ID provided in the request parameters. This controller is used when the creation of a resource is dependent on an existing entity.</a></li><li><a href="global.html#createWriter">createWriter</a></li><li><a href="global.html#createWriterSchema">createWriterSchema</a></li><li><a href="global.html#createdByAdminSchema">createdByAdminSchema</a></li><li><a href="global.html#customObjectIdValidator">customObjectIdValidator</a></li><li><a href="global.html#dateField">dateField</a></li><li><a href="global.html#dateOfBirthSchema">dateOfBirthSchema</a></li><li><a href="global.html#decodeAuthenticationToken">decodeAuthenticationToken</a></li><li><a href="global.html#deleteAccount">deleteAccount</a></li><li><a href="global.html#deleteBookById">deleteBookById</a></li><li><a href="global.html#deleteBookList">deleteBookList</a></li><li><a href="global.html#deleteByIdDeletesaspecificresourcebyitsID,providedintherequestparameters.Thiscontrollerensuressecureandauditabledeletionprocesses.">deleteByIdDeletes a specific resource by its ID, provided in the request parameters. This controller ensures secure and auditable deletion processes.</a></li><li><a href="global.html#deleteFavouriteBook">deleteFavouriteBook</a></li><li><a href="global.html#deleteFile">deleteFile</a></li><li><a href="global.html#deleteListAllowsforbulkdeletionofresourcesbasedonalistofIDsprovidedintherequestquery.Thisfunctionensuresefficientandsecuredeletionofmultipleentries.">deleteListAllows for bulk deletion of resources based on a list of IDs provided in the request query. This function ensures efficient and secure deletion of multiple entries.</a></li><li><a href="global.html#deletePermissionById">deletePermissionById</a></li><li><a href="global.html#deletePermissionList">deletePermissionList</a></li><li><a href="global.html#deletePronounsById">deletePronounsById</a></li><li><a href="global.html#deletePronounsList">deletePronounsList</a></li><li><a href="global.html#deletePublicationById">deletePublicationById</a></li><li><a href="global.html#deletePublicationList">deletePublicationList</a></li><li><a href="global.html#deleteRequestBook">deleteRequestBook</a></li><li><a href="global.html#deleteResourceByIdDeletesasingleresourcebyID,includinganyassociatedresourcessuchasfilesstoredinGoogleDrive.Itlogstheactionandhandleserrorsappropriately,returningasuccessorerrorresponsebasedontheoutcomeoftheoperation.">deleteResourceByIdDeletes a single resource by ID, including any associated resources such as files stored in Google Drive. It logs the action andhandles errors appropriately, returning a success or error response based on the outcome of the operation.</a></li><li><a href="global.html#deleteResourcesByListDeletesmultipleresourcesidentifiedbyanarrayofIDs,handlingeachdeletionindividuallyandmanagingassociatedresourceslikefiles.Itprovidesdetailedresultsofthedeletionprocess,includingcountsofdeleted,notfound,andfaileddeletions.">deleteResourcesByListDeletes multiple resources identified by an array of IDs, handling each deletion individually and managing associated resources like files.It provides detailed results of the deletion process, including counts of deleted, not found, and failed deletions.</a></li><li><a href="global.html#deleteRoleById">deleteRoleById</a></li><li><a href="global.html#deleteRoleByList">deleteRoleByList</a></li><li><a href="global.html#deleteSubject">deleteSubject</a></li><li><a href="global.html#deleteSubjects">deleteSubjects</a></li><li><a href="global.html#deleteUser">deleteUser</a></li><li><a href="global.html#deleteWriter">deleteWriter</a></li><li><a href="global.html#deleteWriters">deleteWriters</a></li><li><a href="global.html#detectController">detectController</a></li><li><a href="global.html#detectService">detectService</a></li><li><a href="global.html#disconnect">disconnect</a></li><li><a href="global.html#emailField">emailField</a></li><li><a href="global.html#emailSchema">emailSchema</a></li><li><a href="global.html#emailVerifyTokenExpiresSchema">emailVerifyTokenExpiresSchema</a></li><li><a href="global.html#emailVerifyTokenSchema">emailVerifyTokenSchema</a></li><li><a href="global.html#envVarsSchema">envVarsSchema</a></li><li><a href="global.html#errorResponse">errorResponse</a></li><li><a href="global.html#externalOAuthSchema">externalOAuthSchema</a></li><li><a href="global.html#facebookSchema">facebookSchema</a></li><li><a href="global.html#favouriteBookIdParamSchema">favouriteBookIdParamSchema</a></li><li><a href="global.html#fileBufferValidationSchema">fileBufferValidationSchema</a></li><li><a href="global.html#fileField">fileField</a></li><li><a href="global.html#generateExtensionRegexPattern">generateExtensionRegexPattern</a></li><li><a href="global.html#generateHashedToken">generateHashedToken</a></li><li><a href="global.html#generateTempPassword">generateTempPassword</a></li><li><a href="global.html#generateVerificationToken">generateVerificationToken</a></li><li><a href="global.html#getAccountLog">getAccountLog</a></li><li><a href="global.html#getActivityLog">getActivityLog</a></li><li><a href="global.html#getAppearance">getAppearance</a></li><li><a href="global.html#getAuthenticationToken">getAuthenticationToken</a></li><li><a href="global.html#getBookById">getBookById</a></li><li><a href="global.html#getBookHistory">getBookHistory</a></li><li><a href="global.html#getBookHistoryByBookId">getBookHistoryByBookId</a></li><li><a href="global.html#getBookList">getBookList</a></li><li><a href="global.html#getBooksHistory">getBooksHistory</a></li><li><a href="global.html#getBooksQuerySchema">getBooksQuerySchema</a></li><li><a href="global.html#getByIdFetchesaspecificresourcebyIDprovidedintherequestparameters,utilizingrequesterdataforaccesscontrolandlogging.">getByIdFetches a specific resource by ID provided in the request parameters, utilizing requester data for access control and logging.</a></li><li><a href="global.html#getByRequesterRetrievesinformationspecifictotherequesterbasedontheiridentificationinthesystem.">getByRequesterRetrieves information specific to the requester based on their identification in the system.</a></li><li><a href="global.html#getDesiredBooks">getDesiredBooks</a></li><li><a href="global.html#getDesiredBooksQuerySchema">getDesiredBooksQuerySchema</a></li><li><a href="global.html#getEnvVar">getEnvVar</a></li><li><a href="global.html#getFavouriteBooks">getFavouriteBooks</a></li><li><a href="global.html#getHostData">getHostData</a></li><li><a href="global.html#getInt">getInt</a></li><li><a href="global.html#getLendBooks">getLendBooks</a></li><li><a href="global.html#getLendBooksQuerySchema">getLendBooksQuerySchema</a></li><li><a href="global.html#getListRetrievesalistofresourcesbasedonthequeryparametersprovidedbytherequester.">getListRetrieves a list of resources based on the query parameters provided by the requester.</a></li><li><a href="global.html#getPermissionById">getPermissionById</a></li><li><a href="global.html#getPermissionList">getPermissionList</a></li><li><a href="global.html#getPermissionsQuerySchema">getPermissionsQuerySchema</a></li><li><a href="global.html#getProfile">getProfile</a></li><li><a href="global.html#getPronounsById">getPronounsById</a></li><li><a href="global.html#getPronounsList">getPronounsList</a></li><li><a href="global.html#getPronounsQuerySchema">getPronounsQuerySchema</a></li><li><a href="global.html#getPublicationById">getPublicationById</a></li><li><a href="global.html#getPublicationList">getPublicationList</a></li><li><a href="global.html#getPublicationsQuerySchema">getPublicationsQuerySchema</a></li><li><a href="global.html#getRandomCharFromPattern">getRandomCharFromPattern</a></li><li><a href="global.html#getRequestBook">getRequestBook</a></li><li><a href="global.html#getRequestBooks">getRequestBooks</a></li><li><a href="global.html#getRequestedBooksByOwnerId">getRequestedBooksByOwnerId</a></li><li><a href="global.html#getRequestedDeviceDetails">getRequestedDeviceDetails</a></li><li><a href="global.html#getRequesterId">getRequesterId</a></li><li><a href="global.html#getRequesterPermissions">getRequesterPermissions</a></li><li><a href="global.html#getResourceByIdRetrievesasingleresourcebyitsIDfromthedatabase,applyingthespecifiedpopulatemethod.Itreturnsaformattedresponseoranerroriftheresourceisnotfound.Italsologsanyerrorthatoccursduringtheoperation.">getResourceByIdRetrieves a single resource by its ID from the database, applying the specified populate method. It returns a formatted responseor an error if the resource is not found. It also logs any error that occurs during the operation.</a></li><li><a href="global.html#getResourceListRetrievesalistofresourcesbasedonprovidedparametersandquerymapping,supportingpagination,sorting,andfiltering.Itreturnsanarrayofresourcesoranotfoundmessageifnoresourcesmatchthecriteria.">getResourceListRetrieves a list of resources based on provided parameters and query mapping, supporting pagination, sorting, and filtering.It returns an array of resources or a not found message if no resources match the criteria.</a></li><li><a href="global.html#getRoleById">getRoleById</a></li><li><a href="global.html#getRoleList">getRoleList</a></li><li><a href="global.html#getRolesQuerySchema">getRolesQuerySchema</a></li><li><a href="global.html#getSecurityLog">getSecurityLog</a></li><li><a href="global.html#getSubjectById">getSubjectById</a></li><li><a href="global.html#getSubjects">getSubjects</a></li><li><a href="global.html#getSubjectsQuerySchema">getSubjectsQuerySchema</a></li><li><a href="global.html#getTrendingBooks">getTrendingBooks</a></li><li><a href="global.html#getWriter">getWriter</a></li><li><a href="global.html#getWriters">getWriters</a></li><li><a href="global.html#getWritersQuerySchema">getWritersQuerySchema</a></li><li><a href="global.html#githubSchema">githubSchema</a></li><li><a href="global.html#googleDriveConfiguration">googleDriveConfiguration</a></li><li><a href="global.html#handleServerError">handleServerError</a></li><li><a href="global.html#handleUncaughtException">handleUncaughtException</a></li><li><a href="global.html#handleUnhandledRejection">handleUnhandledRejection</a></li><li><a href="global.html#homeService">homeService</a></li><li><a href="global.html#hppConfiguration">hppConfiguration</a></li><li><a href="global.html#imageSchema">imageSchema</a></li><li><a href="global.html#imageSize">imageSize</a></li><li><a href="global.html#initiateGracefulShutdown">initiateGracefulShutdown</a></li><li><a href="global.html#invalidate">invalidate</a></li><li><a href="global.html#isActiveSchema">isActiveSchema</a></li><li><a href="global.html#isEmailVerifiedSchema">isEmailVerifiedSchema</a></li><li><a href="global.html#isEmpty">isEmpty</a></li><li><a href="global.html#isEmptyObject">isEmptyObject</a></li><li><a href="global.html#isMobileVerifiedSchema">isMobileVerifiedSchema</a></li><li><a href="global.html#isPrimaryEmailSchema">isPrimaryEmailSchema</a></li><li><a href="global.html#isPrimaryMobileSchema">isPrimaryMobileSchema</a></li><li><a href="global.html#lendBookSchemaBase">lendBookSchemaBase</a></li><li><a href="global.html#lengths">lengths</a></li><li><a href="global.html#linkedInSchema">linkedInSchema</a></li><li><a href="global.html#loadListFromFile">loadListFromFile</a></li><li><a href="global.html#loggerService">loggerService</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#loginManagesuserloginrequestsbyvalidatingcredentialsandgeneratingsessioninformation.Recordsdeviceandhostdataforsecurityandauditing.">loginManages user login requests by validating credentials and generating session information. Records device and host data for security and auditing.</a></li><li><a href="global.html#loginSchema">loginSchema</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#logoutHandlesuserlogoutrequests,ensuringthatsessiondataisclearedandloggingoutisdonesecurely.">logoutHandles user logout requests, ensuring that session data is cleared and logging out is done securely.</a></li><li><a href="global.html#mobileField">mobileField</a></li><li><a href="global.html#mobileSchema">mobileSchema</a></li><li><a href="global.html#mobileVerifyTokenExpiresSchema">mobileVerifyTokenExpiresSchema</a></li><li><a href="global.html#mobileVerifyTokenSchema">mobileVerifyTokenSchema</a></li><li><a href="global.html#morganConfiguration">morganConfiguration</a></li><li><a href="global.html#mustChangePasswordSchema">mustChangePasswordSchema</a></li><li><a href="global.html#nameSchema">nameSchema</a></li><li><a href="global.html#numericIdSchema">numericIdSchema</a></li><li><a href="global.html#objectIdField">objectIdField</a></li><li><a href="global.html#objectIdValidator">objectIdValidator</a></li><li><a href="global.html#objectIdsField">objectIdsField</a></li><li><a href="global.html#ownerId">ownerId</a></li><li><a href="global.html#ownerIdSchema">ownerIdSchema</a></li><li><a href="global.html#passwordField">passwordField</a></li><li><a href="global.html#passwordHashSchema">passwordHashSchema</a></li><li><a href="global.html#pattern">pattern</a></li><li><a href="global.html#permissionIdParamSchema">permissionIdParamSchema</a></li><li><a href="global.html#permissionIdsParamSchema">permissionIdsParamSchema</a></li><li><a href="global.html#permissionSchema">permissionSchema</a></li><li><a href="global.html#permissionsSchema">permissionsSchema</a></li><li><a href="global.html#permissionsService">permissionsService</a></li><li><a href="global.html#permissionsValidator">permissionsValidator</a></li><li><a href="global.html#populateBookFields">populateBookFields</a></li><li><a href="global.html#populatePermissionFields">populatePermissionFields</a></li><li><a href="global.html#populatePronounsFields">populatePronounsFields</a></li><li><a href="global.html#populatePublicationFields">populatePublicationFields</a></li><li><a href="global.html#populateRoleFields">populateRoleFields</a></li><li><a href="global.html#populateSubjectFields">populateSubjectFields</a></li><li><a href="global.html#populateWriterFields">populateWriterFields</a></li><li><a href="global.html#preSaveHook">preSaveHook</a></li><li><a href="global.html#preSaveUpdateMiddleware">preSaveUpdateMiddleware</a></li><li><a href="global.html#prepareEmailContent">prepareEmailContent</a></li><li><a href="global.html#privacySettings">privacySettings</a></li><li><a href="global.html#privacySettingsRules">privacySettingsRules</a></li><li><a href="global.html#profileVisibilitySchema">profileVisibilitySchema</a></li><li><a href="global.html#pronounsConstants">pronounsConstants</a></li><li><a href="global.html#pronounsController">pronounsController</a></li><li><a href="global.html#pronounsIdParamSchema">pronounsIdParamSchema</a></li><li><a href="global.html#pronounsIdsParamSchema">pronounsIdsParamSchema</a></li><li><a href="global.html#pronounsSchema">pronounsSchema</a></li><li><a href="global.html#pronounsSchemaBase">pronounsSchemaBase</a></li><li><a href="global.html#pronounsService">pronounsService</a></li><li><a href="global.html#pronounsValidator">pronounsValidator</a></li><li><a href="global.html#publicationIdParamSchema">publicationIdParamSchema</a></li><li><a href="global.html#publicationIdsParamSchema">publicationIdsParamSchema</a></li><li><a href="global.html#publicationSchema">publicationSchema</a></li><li><a href="global.html#publicationSchemaBase">publicationSchemaBase</a></li><li><a href="global.html#publicationsConstants">publicationsConstants</a></li><li><a href="global.html#publicationsController">publicationsController</a></li><li><a href="global.html#publicationsSchema">publicationsSchema</a></li><li><a href="global.html#publicationsService">publicationsService</a></li><li><a href="global.html#publicationsValidator">publicationsValidator</a></li><li><a href="global.html#recentlyVisitedBookSchema">recentlyVisitedBookSchema</a></li><li><a href="global.html#recentlyVisitedBooksModel">recentlyVisitedBooksModel</a></li><li><a href="global.html#requestBookId">requestBookId</a></li><li><a href="global.html#requestBookIdSchema">requestBookIdSchema</a></li><li><a href="global.html#requestBookSchemaBase">requestBookSchemaBase</a></li><li><a href="global.html#requestBooksConstants">requestBooksConstants</a></li><li><a href="global.html#requestNewAdminPassword">requestNewAdminPassword</a></li><li><a href="global.html#requestNewPassword">requestNewPassword</a></li><li><a href="global.html#requestNewPasswordProvidesfunctionalityforuserstorequestapasswordreset.Thisfunctionextractsnecessaryinformationfromtherequestandpassesittotheservicelayer.">requestNewPasswordProvides functionality for users to request a password reset. This function extracts necessary information from the request and passes it to the service layer.</a></li><li><a href="global.html#resendAdminVerification">resendAdminVerification</a></li><li><a href="global.html#resendVerification">resendVerification</a></li><li><a href="global.html#resendVerificationAllowsuserstorequestanotherverificationemailifthefirstwasnotreceivedorexpired.">resendVerificationAllows users to request another verification email if the first was not received or expired.</a></li><li><a href="global.html#resetAdminPassword">resetAdminPassword</a></li><li><a href="global.html#resetPassword">resetPassword</a></li><li><a href="global.html#resetPasswordHandlesuserrequeststoresettheirpasswordusingatokenprovidedthroughapreviouspasswordresetrequest.">resetPasswordHandles user requests to reset their password using a token provided through a previous password reset request.</a></li><li><a href="global.html#resetPasswordVerifyTokenExpiresSchema">resetPasswordVerifyTokenExpiresSchema</a></li><li><a href="global.html#resetPasswordVerifyTokenSchema">resetPasswordVerifyTokenSchema</a></li><li><a href="global.html#returnBook">returnBook</a></li><li><a href="global.html#returnBookSchemaBase">returnBookSchemaBase</a></li><li><a href="global.html#returnBooksSchema">returnBooksSchema</a></li><li><a href="global.html#returnSchema">returnSchema</a></li><li><a href="global.html#roleIdParamSchema">roleIdParamSchema</a></li><li><a href="global.html#roleIdsParamSchema">roleIdsParamSchema</a></li><li><a href="global.html#roleSchema">roleSchema</a></li><li><a href="global.html#roleSchemaBase">roleSchemaBase</a></li><li><a href="global.html#rolesConstants">rolesConstants</a></li><li><a href="global.html#rolesController">rolesController</a></li><li><a href="global.html#rolesSchema">rolesSchema</a></li><li><a href="global.html#rolesService">rolesService</a></li><li><a href="global.html#rolesValidator">rolesValidator</a></li><li><a href="global.html#router">router</a></li><li><a href="global.html#sanitize">sanitize</a></li><li><a href="global.html#sanitizeRequestConfiguration">sanitizeRequestConfiguration</a></li><li><a href="global.html#sendEmail">sendEmail</a></li><li><a href="global.html#sendResponse">sendResponse</a></li><li><a href="global.html#sessionsSchema">sessionsSchema</a></li><li><a href="global.html#shutdownHandler">shutdownHandler</a></li><li><a href="global.html#signup">signup</a></li><li><a href="global.html#signupHandlesusersignuprequests.Extractshostdatafromtherequestandcallstheprovidedservicefunction.">signupHandles user signup requests. Extracts host data from the request and calls the provided service function.</a></li><li><a href="global.html#statusController">statusController</a></li><li><a href="global.html#statusService">statusService</a></li><li><a href="global.html#subjectIdParamSchema">subjectIdParamSchema</a></li><li><a href="global.html#subjectIdsParamSchema">subjectIdsParamSchema</a></li><li><a href="global.html#subjectSchema">subjectSchema</a></li><li><a href="global.html#subjectSchemaBase">subjectSchemaBase</a></li><li><a href="global.html#subjectsConstants">subjectsConstants</a></li><li><a href="global.html#subjectsController">subjectsController</a></li><li><a href="global.html#subjectsSchema">subjectsSchema</a></li><li><a href="global.html#subjectsService">subjectsService</a></li><li><a href="global.html#subjectsValidator">subjectsValidator</a></li><li><a href="global.html#testUncaughtExceptionController">testUncaughtExceptionController</a></li><li><a href="global.html#toSentenceCase">toSentenceCase</a></li><li><a href="global.html#trendingBooksController">trendingBooksController</a></li><li><a href="global.html#trendingBooksService">trendingBooksService</a></li><li><a href="global.html#twitterSchema">twitterSchema</a></li><li><a href="global.html#twoFactorEnabledSchema">twoFactorEnabledSchema</a></li><li><a href="global.html#twoFactorSecretSchema">twoFactorSecretSchema</a></li><li><a href="global.html#undefinedController">undefinedController</a></li><li><a href="global.html#undefinedService">undefinedService</a></li><li><a href="global.html#uniqueConstraintErrorHandlingMiddleware">uniqueConstraintErrorHandlingMiddleware</a></li><li><a href="global.html#updateAppearance">updateAppearance</a></li><li><a href="global.html#updateBookById">updateBookById</a></li><li><a href="global.html#updateBookSchema">updateBookSchema</a></li><li><a href="global.html#updateByIdUpdatesaspecificresourcebasedonitsIDprovidedintherequestparameters,handlingcomplexupdatesincludingfileuploads.">updateByIdUpdates a specific resource based on its ID provided in the request parameters, handling complex updates including file uploads.</a></li><li><a href="global.html#updateByRequesterUpdatesdataspecifictotherequester,supportingupdatesthatincludefileuploads.">updateByRequesterUpdates data specific to the requester, supporting updates that include file uploads.</a></li><li><a href="global.html#updatePermissionById">updatePermissionById</a></li><li><a href="global.html#updatePermissionSchema">updatePermissionSchema</a></li><li><a href="global.html#updateProfile">updateProfile</a></li><li><a href="global.html#updatePronounsById">updatePronounsById</a></li><li><a href="global.html#updatePronounsSchema">updatePronounsSchema</a></li><li><a href="global.html#updatePublicationById">updatePublicationById</a></li><li><a href="global.html#updatePublicationSchema">updatePublicationSchema</a></li><li><a href="global.html#updateRoleById">updateRoleById</a></li><li><a href="global.html#updateRoleSchema">updateRoleSchema</a></li><li><a href="global.html#updateSubject">updateSubject</a></li><li><a href="global.html#updateSubjectSchema">updateSubjectSchema</a></li><li><a href="global.html#updateUserProfile">updateUserProfile</a></li><li><a href="global.html#updateWriter">updateWriter</a></li><li><a href="global.html#updateWriterSchema">updateWriterSchema</a></li><li><a href="global.html#updatedByAdminSchema">updatedByAdminSchema</a></li><li><a href="global.html#uploadFile">uploadFile</a></li><li><a href="global.html#urlSchema">urlSchema</a></li><li><a href="global.html#userBookHistorySchema">userBookHistorySchema</a></li><li><a href="global.html#userIdSchema">userIdSchema</a></li><li><a href="global.html#userProfileController">userProfileController</a></li><li><a href="global.html#userRequestBooksSchema">userRequestBooksSchema</a></li><li><a href="global.html#userSchema">userSchema</a></li><li><a href="global.html#userSchemaBase">userSchemaBase</a></li><li><a href="global.html#usernameSchema">usernameSchema</a></li><li><a href="global.html#usersSchema">usersSchema</a></li><li><a href="global.html#validateAdminRequest">validateAdminRequest</a></li><li><a href="global.html#validateEmail">validateEmail</a></li><li><a href="global.html#validateEmails">validateEmails</a></li><li><a href="global.html#validateFile">validateFile</a></li><li><a href="global.html#validateIds">validateIds</a></li><li><a href="global.html#validatePassword">validatePassword</a></li><li><a href="global.html#validatePermission">validatePermission</a></li><li><a href="global.html#validatePermissionsChecksifallthespecifiedpermissionIDsexistinthedatabase.Thisfunctionisessentialforvalidatingpermissionsaspartofaccesscontrolmechanisms.ItretrievespermissiondocumentsfromthedatabasebasedontheprovidedIDsandcomparesthecountoffoundpermissionswiththecountofrequestedIDs.">validatePermissionsChecks if all the specified permission IDs exist in the database. This function is essential for validating permissions as part of access control mechanisms.It retrieves permission documents from the database based on the provided IDs and compares the count of found permissions with the count of requested IDs.</a></li><li><a href="global.html#validateSubjectIds">validateSubjectIds</a></li><li><a href="global.html#validateUserRequest">validateUserRequest</a></li><li><a href="global.html#validateWithSchemaAmiddlewaregeneratorfunctionthatcreatesamiddlewaretovalidatespecifiedpropertiesoftherequestobjectagainstprovidedJoischemas.ItappliescustomvalidationmessagesandallowsconfigurationofJoivalidationoptions.Ifvalidationfails,itsendsaformattederrorresponse;otherwise,itsanitizesthedatabytypeconversionandproceedstothenextmiddleware.">validateWithSchemaA middleware generator function that creates a middleware to validate specified properties of the request object against provided Joi schemas.It applies custom validation messages and allows configuration of Joi validation options. If validation fails, it sends a formatted error response; otherwise, it sanitizes the data by type conversion and proceeds to the next middleware.</a></li><li><a href="global.html#verify">verify</a></li><li><a href="global.html#verifyProcessesuseremailverificationusingatokenprovidedintherequestparameters.Itretrieveshostdataforlogging.">verifyProcesses user email verification using a token provided in the request parameters. It retrieves host data for logging.</a></li><li><a href="global.html#verifyAdmin">verifyAdmin</a></li><li><a href="global.html#verifyAuthenticationToken">verifyAuthenticationToken</a></li><li><a href="global.html#verifyJwtToken">verifyJwtToken</a></li><li><a href="global.html#writerIdParamSchema">writerIdParamSchema</a></li><li><a href="global.html#writerIdsParamSchema">writerIdsParamSchema</a></li><li><a href="global.html#writerSchema">writerSchema</a></li><li><a href="global.html#writerSchemaBase">writerSchemaBase</a></li><li><a href="global.html#writersConstants">writersConstants</a></li><li><a href="global.html#writersSchema">writersSchema</a></li><li><a href="global.html#writersValidator">writersValidator</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Fri Aug 09 2024 00:00:12 GMT+0600 (Bangladesh Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
